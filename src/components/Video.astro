---
import { YouTube } from "@astro-community/astro-embed-youtube"
import type { CollectionEntry } from "astro:content"

type Props = {
	class?: string
	item: CollectionEntry<"gallery">
}
const { class: classList, item } = Astro.props
---

<YouTube
	id={item.data.video?.id!}
	poster={item.data.image.src}
	posterQuality="max"
	params=`autoplay=${item.data.video?.autoplay ? "1" : "0"}&start=2&enablejsapi=1&rel=0&origin=${Astro.url.origin}`
	title={item.data.video?.title}
	class:list={["aspect-video", classList]}
	js-api
/>
